{"version":3,"sources":["assets/icon1.svg","assets sync nonrecursive //.svg$","assets/icon10.svg","assets/icon11.svg","assets/icon12.svg","assets/icon13.svg","assets/icon14.svg","assets/icon15.svg","assets/icon16.svg","assets/icon17.svg","assets/icon18.svg","assets/icon19.svg","assets/icon2.svg","assets/icon20.svg","assets/icon21.svg","assets/icon22.svg","assets/icon23.svg","assets/icon24.svg","assets/icon25.svg","assets/icon26.svg","assets/icon27.svg","assets/icon28.svg","assets/icon29.svg","assets/icon3.svg","assets/icon30.svg","assets/icon31.svg","assets/icon32.svg","assets/icon33.svg","assets/icon34.svg","assets/icon35.svg","assets/icon36.svg","assets/icon37.svg","assets/icon38.svg","assets/icon39.svg","assets/icon4.svg","assets/icon40.svg","assets/icon41.svg","assets/icon42.svg","assets/icon43.svg","assets/icon44.svg","assets/icon45.svg","assets/icon46.svg","assets/icon47.svg","assets/icon48.svg","assets/icon49.svg","assets/icon5.svg","assets/icon50.svg","assets/icon6.svg","assets/icon7.svg","assets/icon8.svg","assets/icon9.svg","config/server-url.js","components/Header.js","components/Header-User.js","assets/icon-provider.js","components/UserIcon.js","components/Conversations.js","components/Conversations-Add-Channel-Btn.js","components/Chat.js","components/Chat-Content.js","components/Users.js","components/Footer.js","data-handling/cache.js","components/App.js","reportWebVitals.js","index.js"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","nodeEnv","process","serverPaths","production","development","getServer","Header","children","className","User","userName","setUserName","useState","usernameEdit","setUsernameEdit","inputValue","setInputValue","useEffect","input","document","querySelector","focus","onSubmit","preventDefault","type","value","onChange","target","onBlur","autoComplete","required","onClick","files","require","icons","forEach","key","string","replace","UserIcon","icon","background","status","size","margin","style","width","minWidth","height","minHeight","backgroundColor","src","default","failSafeIcon","alt","Conversations","channelList","newMessages","emitActiveConversation","activeConversation","newInChannel","matchedEntry","find","entry","new","shouldDisplay","channel","label","AddChannelBtn","createChannel","edit","setEdit","Chat","send","alertTyping","messages","usersTyping","currentChannel","spamBlock","loadingText","message","setMessage","container","scrollTop","scrollHeight","opacity","disabled","placeholder","ChatContent","user","messageObj","timeString","dateObj","Date","getHours","getMinutes","formatTimeStamp","date","textContent","Users","userlist","color","name","Footer","href","title","cachedMessages","getFromCache","channelId","messageId","App","setUserlist","setChannelList","setActiveConversation","setMessages","userId","setUserId","setUsersTyping","setNewMessages","setSpamBlock","setLoadingText","client","useRef","handleNewMessage","previous","retrieveMessages","messageIdArray","Promise","current","emit","responseArray","saveMessagesInCache","messageObjArray","obj","saveInCache","cacheControl","parsedSequence","missingInCache","identifier","push","rebuildMessages","sequence","a","split","filter","str","nr","parseInt","length","console","log","stagedMessages","io","socket","on","usersArray","channelsArray","receivedId","usersTypingArray","close","clearNew","getName","match","getColor","getIcon","newUsername","filtered","alert","index","formatTypingAlert","online","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a5f2eb47.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/icon1.be78a816.svg\";","var map = {\n\t\"./icon1.svg\": 21,\n\t\"./icon10.svg\": 82,\n\t\"./icon11.svg\": 83,\n\t\"./icon12.svg\": 84,\n\t\"./icon13.svg\": 85,\n\t\"./icon14.svg\": 86,\n\t\"./icon15.svg\": 87,\n\t\"./icon16.svg\": 88,\n\t\"./icon17.svg\": 89,\n\t\"./icon18.svg\": 90,\n\t\"./icon19.svg\": 91,\n\t\"./icon2.svg\": 92,\n\t\"./icon20.svg\": 93,\n\t\"./icon21.svg\": 94,\n\t\"./icon22.svg\": 95,\n\t\"./icon23.svg\": 96,\n\t\"./icon24.svg\": 97,\n\t\"./icon25.svg\": 98,\n\t\"./icon26.svg\": 99,\n\t\"./icon27.svg\": 100,\n\t\"./icon28.svg\": 101,\n\t\"./icon29.svg\": 102,\n\t\"./icon3.svg\": 103,\n\t\"./icon30.svg\": 104,\n\t\"./icon31.svg\": 105,\n\t\"./icon32.svg\": 106,\n\t\"./icon33.svg\": 107,\n\t\"./icon34.svg\": 108,\n\t\"./icon35.svg\": 109,\n\t\"./icon36.svg\": 110,\n\t\"./icon37.svg\": 111,\n\t\"./icon38.svg\": 112,\n\t\"./icon39.svg\": 113,\n\t\"./icon4.svg\": 114,\n\t\"./icon40.svg\": 115,\n\t\"./icon41.svg\": 116,\n\t\"./icon42.svg\": 117,\n\t\"./icon43.svg\": 118,\n\t\"./icon44.svg\": 119,\n\t\"./icon45.svg\": 120,\n\t\"./icon46.svg\": 121,\n\t\"./icon47.svg\": 122,\n\t\"./icon48.svg\": 123,\n\t\"./icon49.svg\": 124,\n\t\"./icon5.svg\": 125,\n\t\"./icon50.svg\": 126,\n\t\"./icon6.svg\": 127,\n\t\"./icon7.svg\": 128,\n\t\"./icon8.svg\": 129,\n\t\"./icon9.svg\": 130\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 81;","export default __webpack_public_path__ + \"static/media/icon10.7b6cb582.svg\";","export default __webpack_public_path__ + \"static/media/icon11.c4e447fa.svg\";","export default __webpack_public_path__ + \"static/media/icon12.34ac38ad.svg\";","export default __webpack_public_path__ + \"static/media/icon13.b807f680.svg\";","export default __webpack_public_path__ + \"static/media/icon14.9b9fdef1.svg\";","export default __webpack_public_path__ + \"static/media/icon15.8a899c72.svg\";","export default __webpack_public_path__ + \"static/media/icon16.cfd56a7b.svg\";","export default __webpack_public_path__ + \"static/media/icon17.96da9cd4.svg\";","export default __webpack_public_path__ + \"static/media/icon18.00308d4c.svg\";","export default __webpack_public_path__ + \"static/media/icon19.e39fc14b.svg\";","export default __webpack_public_path__ + \"static/media/icon2.23fce968.svg\";","export default __webpack_public_path__ + \"static/media/icon20.5edc3050.svg\";","export default __webpack_public_path__ + \"static/media/icon21.2e62f7bd.svg\";","export default __webpack_public_path__ + \"static/media/icon22.c2953a5e.svg\";","export default __webpack_public_path__ + \"static/media/icon23.bf39ce58.svg\";","export default __webpack_public_path__ + \"static/media/icon24.47e5020a.svg\";","export default __webpack_public_path__ + \"static/media/icon25.38aeadd6.svg\";","export default __webpack_public_path__ + \"static/media/icon26.1ee31e9c.svg\";","export default __webpack_public_path__ + \"static/media/icon27.d7c6887f.svg\";","export default __webpack_public_path__ + \"static/media/icon28.b5b90c1d.svg\";","export default __webpack_public_path__ + \"static/media/icon29.f930cc1f.svg\";","export default __webpack_public_path__ + \"static/media/icon3.7dcb6761.svg\";","export default __webpack_public_path__ + \"static/media/icon30.a06620a2.svg\";","export default __webpack_public_path__ + \"static/media/icon31.1ba79db4.svg\";","export default __webpack_public_path__ + \"static/media/icon32.7d284c1b.svg\";","export default __webpack_public_path__ + \"static/media/icon33.9742d126.svg\";","export default __webpack_public_path__ + \"static/media/icon34.7d8098fb.svg\";","export default __webpack_public_path__ + \"static/media/icon35.1c8cde62.svg\";","export default __webpack_public_path__ + \"static/media/icon36.bf625fe0.svg\";","export default __webpack_public_path__ + \"static/media/icon37.d9166e4d.svg\";","export default __webpack_public_path__ + \"static/media/icon38.cd397d5e.svg\";","export default __webpack_public_path__ + \"static/media/icon39.b572e9c6.svg\";","export default __webpack_public_path__ + \"static/media/icon4.905fe3e8.svg\";","export default __webpack_public_path__ + \"static/media/icon40.d78bfd96.svg\";","export default __webpack_public_path__ + \"static/media/icon41.784bf6f8.svg\";","export default __webpack_public_path__ + \"static/media/icon42.420ccc43.svg\";","export default __webpack_public_path__ + \"static/media/icon43.87b3c1df.svg\";","export default __webpack_public_path__ + \"static/media/icon44.0efbf879.svg\";","export default __webpack_public_path__ + \"static/media/icon45.e88afedb.svg\";","export default __webpack_public_path__ + \"static/media/icon46.36b47cd7.svg\";","export default __webpack_public_path__ + \"static/media/icon47.62a72054.svg\";","export default __webpack_public_path__ + \"static/media/icon48.57a483fd.svg\";","export default __webpack_public_path__ + \"static/media/icon49.6d1bc615.svg\";","export default __webpack_public_path__ + \"static/media/icon5.2fa1db86.svg\";","export default __webpack_public_path__ + \"static/media/icon50.c017f087.svg\";","export default __webpack_public_path__ + \"static/media/icon6.86e58767.svg\";","export default __webpack_public_path__ + \"static/media/icon7.ffece1cc.svg\";","export default __webpack_public_path__ + \"static/media/icon8.840f8a8e.svg\";","export default __webpack_public_path__ + \"static/media/icon9.f46af93f.svg\";","const nodeEnv = process.env.NODE_ENV;\n\nconst serverPaths = {\n  production: 'https://tiny-conversation.herokuapp.com',\n  development: 'http://localhost:8080',\n}\n\nconst getServer = () => serverPaths[nodeEnv] ? serverPaths[nodeEnv] : serverPaths.development;\n\nexport default getServer;\n\n\n","import React from 'react';\nimport 'components/Header.scss';\n\nconst Header = ({ children }) => {\n  return (\n    <header className='header'>\n      <div className=\"header__left\">\n        <i className='far fa-comment-dots header__icon'></i>\n        <h1 className='header__title'>conversations</h1>\n      </div>\n      {children}\n    </header>\n  );\n};\n\nexport default Header;\n","import React, { useState, useEffect } from 'react';\n\nconst User = ({ userName, setUserName, children }) => {\n  const [usernameEdit, setUsernameEdit] = useState(false);\n  const [inputValue, setInputValue] = useState('');\n\n  useEffect(() => {\n    const input = document.querySelector('.header__username-input');\n    if (input) {\n      input.focus();\n    }\n  });\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setUserName(inputValue);\n    setInputValue('');\n    setUsernameEdit(false);\n  };\n\n  const startEdit = () => {\n    setInputValue(userName);\n    setUsernameEdit(true);\n  };\n\n  return (\n    <div className='header__user'>\n      {usernameEdit ? (\n        <form onSubmit={handleSubmit}>\n          <input\n            type='text'\n            value={inputValue}\n            onChange={e => setInputValue(e.target.value)}\n            onBlur={() => setUsernameEdit(false)}\n            className='header__username-input'\n            autoComplete='off'\n            required\n          />\n        </form>\n      ) : (\n        <button className='header__name-btn' onClick={startEdit}>\n          {userName}\n        </button>\n      )}\n      {children}\n    </div>\n  );\n};\n\nexport default User;\n","import failSafeIcon from 'assets/icon1.svg'\nconst files = require.context('assets', false, /\\.svg$/);\n\nconst icons = {};\n\nconst tidyFilename = string => string.replace('./', '').replace('.svg', '').replace('icon', '');\n\nfiles.keys().forEach(key => {\n  icons[tidyFilename(key)] = files(key);\n});\n\nconst exportIcon = id => icons[id] ? icons[id].default : failSafeIcon;\n\nexport { exportIcon };\n","import React from 'react';\nimport { exportIcon } from 'assets/icon-provider';\n\nimport 'components/UserIcon.scss';\n\nconst UserIcon = ({ icon = 3, background = '#89f0a4', status = false, size = '3rem', margin = '0.5rem' }) => {\n  return (\n    <div\n      className='usericon'\n      style={{ width: size, minWidth: size, height: size, minHeight: size, backgroundColor: background, margin }}\n    >\n      <img src={exportIcon(icon)} alt='temp' className='usericon__svg' />\n      {status && <div className='usericon__status'></div>}\n    </div>\n  );\n};\n\nexport default UserIcon;\n","import React from 'react';\nimport 'components/Conversations.scss';\n\nconst Conversations = ({ channelList, newMessages, emitActiveConversation, activeConversation, children }) => {\n  const btnClass = id => {\n    const status = id === activeConversation ? 'active' : 'inactive';\n    return `conversations__channelBtn conversations__channelBtn--${status}`;\n  };\n\n  const newInChannel = id => {\n    const matchedEntry = newMessages.find(entry => entry.id === id);\n    if (matchedEntry && matchedEntry.new > 0) {\n      return matchedEntry.new;\n    }\n    return '';\n  };\n\n  const shouldDisplay = id => id !== activeConversation;\n\n  return (\n    <nav className='conversations'>\n      {channelList.map(channel => (\n        <button className={btnClass(channel.id)} key={channel.id} onClick={() => emitActiveConversation(channel.id)}>\n          <span>#</span>\n          {channel.label}\n          {shouldDisplay(channel.id) && newInChannel(channel.id) !== '' && (\n            <span className='conversations__new'>{newInChannel(channel.id)}</span>\n          )}\n        </button>\n      ))}\n      {children}\n    </nav>\n  );\n};\n\nexport default Conversations;\n","import React, { useState, useEffect } from 'react';\n\nconst AddChannelBtn = ({ createChannel }) => {\n  const [edit, setEdit] = useState(false);\n  const [inputValue, setInputValue] = useState('');\n\n  useEffect(() => {\n    const input = document.querySelector('.conversations__add-channel-input');\n    if (input) {\n      input.focus();\n    }\n  });\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    createChannel(inputValue);\n    setInputValue('');\n    setEdit(false);\n  };\n\n  return (\n    <div className='conversations__add-channel'>\n      {edit ? (\n        <form onSubmit={handleSubmit} className='conversations__add-channel-form'>\n          <input\n            type='text'\n            onBlur={() => {\n              setEdit(false);\n              setInputValue('');\n            }}\n            className='conversations__add-channel-input'\n            value={inputValue}\n            onChange={e => setInputValue(e.target.value)}\n            required\n          />\n        </form>\n      ) : (\n        <button className='conversations__add-channel-btn' onClick={() => setEdit(true)}>\n          + Add Channel\n        </button>\n      )}\n    </div>\n  );\n};\n\nexport default AddChannelBtn;\n","import React, { useState, useEffect } from 'react';\nimport 'components/Chat.scss';\n\nconst Chat = ({ send, children, messages, alertTyping, usersTyping, currentChannel, spamBlock, loadingText }) => {\n  const [message, setMessage] = useState('');\n\n  const onSubmit = e => {\n    e.preventDefault();\n    send(message);\n    setMessage('');\n  };\n\n  useEffect(() => {\n    const container = document.querySelector('.chat__messages');\n    container.scrollTop = container.scrollHeight;\n  });\n\n  const handleOnChange = e => {\n    alertTyping();\n    setMessage(e.target.value);\n  };\n\n  return (\n    <main className='chat'>\n      <h2 className='chat__channeltag'>\n        <span style={{ opacity: currentChannel !== '' ? '1' : '0' }}>#</span>\n        {currentChannel}\n      </h2>\n      <div className='chat__messages'>\n        {children}\n      </div>\n      <div className='chat__form-container'>\n        {usersTyping !== '' && (\n          <p className='chat__typingalert'>\n            {usersTyping}\n            <span className='chat__dot1'>.</span>\n            <span className='chat__dot2'>.</span>\n            <span className='chat__dot3'>.</span>\n          </p>\n        )}\n        <form className='chat__form' onSubmit={onSubmit}>\n          <input\n            type='text'\n            className='chat__input'\n            value={message}\n            onChange={handleOnChange}\n            required\n            disabled={spamBlock}\n            placeholder={spamBlock ? 'Please hold back a bit on your messages!' : 'Type here!'}\n          />\n          <button className='chat__button'>Send</button>\n        </form>\n      </div>\n    </main>\n  );\n};\n\nexport default Chat;\n","import React from 'react';\n\nconst ChatContent = ({ user, messageObj, children }) => {\n  const formatTimeStamp = timeString => {\n    const dateObj = new Date(timeString);\n    return (\n      (dateObj.getHours() < 10 ? `0${dateObj.getHours()}` : dateObj.getHours()) +\n      ':' +\n      (dateObj.getMinutes() < 10 ? `0${dateObj.getMinutes()}` : dateObj.getMinutes())\n    );\n  };\n\n  return (\n    <div className='chat__content'>\n      <div className='chat__left'>{children}</div>\n      <div className='chat__right'>\n        <div className='chat__pointer'></div>\n        <div className='chat__content-header'>\n          <p className='chat__nametag'>{user}</p>\n          <p className='chat__timetag'>{formatTimeStamp(messageObj.date)}</p>\n        </div>\n        <p className='chat__texttag'>{messageObj.textContent}</p>\n      </div>\n    </div>\n  );\n};\n\nexport default ChatContent;\n","import React from 'react';\nimport 'components/Users.scss';\n\nimport UserIcon from 'components/UserIcon';\n\nconst Users = ({ userlist = [] }) => {\n  return (\n    <aside className='users'>\n      {userlist.map(user => (\n        <div key={user.id} className='users__row'>\n          <UserIcon icon={user.icon} background={user.color} status size='2rem' />\n          <p className='users__nametag'>{user.name}</p>\n        </div>\n      ))}\n    </aside>\n  );\n};\n\nexport default Users;\n","import React from 'react';\nimport 'components/Footer.scss';\n\nconst Footer = () => (\n  <footer className='footer'>\n    <p className='footer__text'>by Oscar Lindqvist</p>\n    <i className='fas fa-circle footer__icon'></i>\n    <p className='footer__text'>\n      Icons made by{' '}\n      <a className='footer__link' href='https://www.freepik.com' title='Freepik'>\n        Freepik\n      </a>{' '}\n      from{' '}\n      <a className='footer__link' href='https://www.flaticon.com/' title='Flaticon'>\n        www.flaticon.com\n      </a>\n    </p>\n  </footer>\n);\n\nexport default Footer;\n","let cachedMessages = {};\n\nconst getFromCache = (channelId, messageId) => {\n  if (cachedMessages[channelId] && cachedMessages[channelId][messageId]) {\n    return cachedMessages[channelId][messageId];\n  }\n  return null;\n};\n\nconst saveInCache = (channelId, messageObj) => {\n  if (cachedMessages[channelId]) {\n    cachedMessages[channelId][messageObj.messageId] = messageObj;\n  } else {\n    cachedMessages[channelId] = { [messageObj.messageId]: messageObj };\n  }\n};\n\nconst clearCache = () => {\n  cachedMessages = {};\n};\n\nexport { getFromCache, saveInCache, clearCache };\n","import React, { useRef, useEffect, useState } from 'react';\nimport { io } from 'socket.io-client';\nimport getServer from 'config/server-url';\n\nimport 'components/App.scss';\n\n// components\n\nimport Header from 'components/Header';\nimport User from 'components/Header-User';\nimport UserIcon from 'components/UserIcon';\nimport Conversations from 'components/Conversations';\nimport AddChannelBtn from 'components/Conversations-Add-Channel-Btn';\nimport Chat from 'components/Chat';\nimport ChatContent from 'components/Chat-Content';\nimport Users from 'components/Users';\nimport Footer from 'components/Footer';\n\nimport { getFromCache, saveInCache, clearCache } from 'data-handling/cache';\n\nconst App = () => {\n  const [userlist, setUserlist] = useState([]);\n  const [channelList, setChannelList] = useState([]);\n  const [activeConversation, setActiveConversation] = useState(0);\n  const [messages, setMessages] = useState([]);\n  const [userId, setUserId] = useState();\n  const [usersTyping, setUsersTyping] = useState([]);\n  const [newMessages, setNewMessages] = useState([]);\n  const [spamBlock, setSpamBlock] = useState(false);\n  const [loadingText, setLoadingText] = useState('Waking up server, please wait...');\n  const client = useRef();\n\n  const handleNewMessage = channelId => {\n    setNewMessages(previous => {\n      const matched = previous.find(entry => entry.id === channelId);\n      if (matched) {\n        return previous.map(entry => (entry.id === channelId ? { ...entry, new: entry.new + 1 } : entry));\n      }\n      return [...previous, { id: channelId, new: 1 }];\n    });\n  };\n\n  const retrieveMessages = (channelId, messageIdArray) =>\n    new Promise(resolve => {\n      client.current.emit('need-messages', channelId, messageIdArray, responseArray => {\n        resolve(responseArray);\n      });\n    });\n\n  const saveMessagesInCache = (channelId, messageObjArray) => {\n    messageObjArray.forEach(obj => saveInCache(channelId, obj));\n  };\n\n  const cacheControl = (parsedSequence, channelId) => {\n    const missingInCache = [];\n    parsedSequence.forEach(identifier => {\n      const cachedMessage = getFromCache(channelId, identifier);\n      if (!cachedMessage) {\n        missingInCache.push(identifier);\n      }\n    });\n    return missingInCache;\n  };\n\n  const rebuildMessages = async (\n    sequence,\n    channelId,\n    cacheControl,\n    retrieveMessages,\n    saveMessagesInCache,\n    activeConversation\n  ) => {\n    if (channelId !== activeConversation) {\n      setLoadingText('Loading...');\n    }\n    const parsedSequence = sequence\n      .split('-')\n      .filter(str => str !== '')\n      .map(nr => parseInt(nr, 10));\n    const missingInCache = cacheControl(parsedSequence, channelId);\n    if (missingInCache.length > 0) {\n      console.log('missing in cache', missingInCache);\n      const newMessages = await retrieveMessages(channelId, missingInCache);\n      saveMessagesInCache(channelId, newMessages);\n    }\n    const stagedMessages = [];\n    parsedSequence.forEach(identifier => stagedMessages.push(getFromCache(channelId, identifier)));\n    setMessages(stagedMessages);\n    setLoadingText('');\n  };\n\n  useEffect(() => {\n    client.current = io(getServer());\n    const socket = client.current;\n    socket.on('clear-cache', () => clearCache());\n    socket.on('user-list', usersArray => setUserlist(usersArray));\n    socket.on('channel-list', channelsArray => setChannelList(channelsArray));\n    socket.on('user-id', receivedId => setUserId(receivedId));\n    socket.on('users-typing', usersTypingArray => setUsersTyping(usersTypingArray));\n    socket.on('new-channel-message', handleNewMessage);\n    socket.on('spam-block', status => setSpamBlock(status));\n\n    return () => {\n      socket.close();\n    };\n  }, []);\n\n  useEffect(() => {\n    client.current.on('new-sequence', (sequence, channelId) =>\n      rebuildMessages(sequence, channelId, cacheControl, retrieveMessages, saveMessagesInCache, activeConversation)\n    );\n  }, [activeConversation]);\n\n  const send = message => {\n    client.current.emit('channel-message', message);\n  };\n\n  const clearNew = id => {\n    setNewMessages(previous => {\n      const match = previous.find(entry => entry.id === id);\n      if (match) {\n        return previous.map(entry => (entry.id === id ? { ...entry, new: 0 } : entry));\n      }\n      return [...previous, { id, new: 0 }];\n    });\n  };\n\n  const emitActiveConversation = id => {\n    clearNew(activeConversation);\n    setActiveConversation(id);\n    clearNew(id);\n    client.current.emit('set-channel', id);\n  };\n\n  const createChannel = label => {\n    client.current.emit('create-channel', label);\n  };\n\n  const setUserName = newUsername => {\n    client.current.emit('update-name', newUsername);\n  };\n\n  const getName = id => {\n    const match = userlist.find(user => user.id === id);\n    return match ? match.name : '. . .';\n  };\n\n  const getColor = id => {\n    const match = userlist.find(user => user.id === id);\n    return match ? match.color : '#89f0a4';\n  };\n\n  const getIcon = id => {\n    const match = userlist.find(user => user.id === id);\n    if (match && match.icon) {\n      return match.icon;\n    }\n    return '0';\n  };\n\n  const alertTyping = () => {\n    client.current.emit('is-typing');\n  };\n\n  const formatTypingAlert = () => {\n    const filtered = usersTyping.filter(id => id !== userId);\n    if (filtered.length === 1) {\n      return `${getName(filtered[0])} is typing`;\n    }\n    if (filtered.length < 3) {\n      let alert = '';\n      filtered.forEach((user, index) => {\n        if (index !== filtered.length - 1) {\n          alert += `${getName(user)}, `;\n        } else {\n          alert += `and ${getName(user)} are typing`;\n        }\n      });\n      return alert;\n    }\n    return 'Several people are typing';\n  };\n\n  const currentChannel = () => {\n    const current = channelList.find(channel => channel.id === activeConversation);\n    return current ? current.label : '';\n  };\n\n  return (\n    <>\n      <div className='filler-div'></div>\n      <div className='app'>\n        <Header>\n          <User userName={getName(userId)} setUserName={setUserName}>\n            <UserIcon icon={getIcon(userId)} background={getColor(userId)} status />\n          </User>\n        </Header>\n        <Conversations\n          channelList={channelList}\n          newMessages={newMessages}\n          emitActiveConversation={emitActiveConversation}\n          activeConversation={activeConversation}\n        >\n          <AddChannelBtn createChannel={createChannel} />\n        </Conversations>\n        <Chat\n          send={send}\n          messages={messages}\n          alertTyping={alertTyping}\n          usersTyping={formatTypingAlert()}\n          currentChannel={currentChannel()}\n          spamBlock={spamBlock}\n          loadingText={loadingText}\n        >\n          {messages.map(messageObj => (\n            <ChatContent user={getName(messageObj.userId)} messageObj={messageObj} key={messageObj.messageId}>\n              <UserIcon\n                icon={getIcon(messageObj.userId)}\n                size='2.3rem'\n                margin='0'\n                background={getColor(messageObj.userId)}\n              />\n            </ChatContent>\n          ))}\n        </Chat>\n        <Users userlist={userlist.filter(user => user.online)} />\n      </div>\n      <Footer />\n    </>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from 'components/App';\nimport reportWebVitals from './reportWebVitals';\n\nimport 'styles/reset.scss';\nimport 'styles/global.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}