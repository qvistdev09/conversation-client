(this["webpackJsonpconversation-client"]=this["webpackJsonpconversation-client"]||[]).push([[0],[,,,,,,,,,,,,,,,,,function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/icon1.be78a816.svg"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,c){},function(t,e,c){},,function(t,e,c){var n={"./icon1.svg":17,"./icon10.svg":74,"./icon11.svg":75,"./icon12.svg":76,"./icon13.svg":77,"./icon14.svg":78,"./icon15.svg":79,"./icon16.svg":80,"./icon17.svg":81,"./icon18.svg":82,"./icon19.svg":83,"./icon2.svg":84,"./icon20.svg":85,"./icon21.svg":86,"./icon22.svg":87,"./icon23.svg":88,"./icon24.svg":89,"./icon25.svg":90,"./icon26.svg":91,"./icon27.svg":92,"./icon28.svg":93,"./icon29.svg":94,"./icon3.svg":95,"./icon30.svg":96,"./icon31.svg":97,"./icon32.svg":98,"./icon33.svg":99,"./icon34.svg":100,"./icon35.svg":101,"./icon36.svg":102,"./icon37.svg":103,"./icon38.svg":104,"./icon39.svg":105,"./icon4.svg":106,"./icon40.svg":107,"./icon41.svg":108,"./icon42.svg":109,"./icon43.svg":110,"./icon44.svg":111,"./icon45.svg":112,"./icon46.svg":113,"./icon47.svg":114,"./icon48.svg":115,"./icon49.svg":116,"./icon5.svg":117,"./icon50.svg":118,"./icon6.svg":119,"./icon7.svg":120,"./icon8.svg":121,"./icon9.svg":122};function i(t){var e=s(t);return c(e)}function s(t){if(!c.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}i.keys=function(){return Object.keys(n)},i.resolve=s,t.exports=i,i.id=73},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/icon10.7b6cb582.svg"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/icon11.c4e447fa.svg"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/icon12.34ac38ad.svg"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/icon13.b807f680.svg"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/icon14.9b9fdef1.svg"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/icon15.8a899c72.svg"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/icon16.cfd56a7b.svg"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/icon17.96da9cd4.svg"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/icon18.00308d4c.svg"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/icon19.e39fc14b.svg"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/icon2.23fce968.svg"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/icon20.5edc3050.svg"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/icon21.2e62f7bd.svg"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/icon22.c2953a5e.svg"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/icon23.bf39ce58.svg"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/icon24.47e5020a.svg"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/icon25.38aeadd6.svg"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/icon26.1ee31e9c.svg"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/icon27.d7c6887f.svg"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/icon28.b5b90c1d.svg"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/icon29.f930cc1f.svg"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/icon3.7dcb6761.svg"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/icon30.a06620a2.svg"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/icon31.1ba79db4.svg"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/icon32.7d284c1b.svg"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/icon33.9742d126.svg"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/icon34.7d8098fb.svg"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/icon35.1c8cde62.svg"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/icon36.bf625fe0.svg"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/icon37.d9166e4d.svg"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/icon38.cd397d5e.svg"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/icon39.b572e9c6.svg"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/icon4.905fe3e8.svg"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/icon40.d78bfd96.svg"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/icon41.784bf6f8.svg"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/icon42.420ccc43.svg"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/icon43.87b3c1df.svg"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/icon44.0efbf879.svg"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/icon45.e88afedb.svg"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/icon46.36b47cd7.svg"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/icon47.62a72054.svg"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/icon48.57a483fd.svg"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/icon49.6d1bc615.svg"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/icon5.2fa1db86.svg"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/icon50.c017f087.svg"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/icon6.86e58767.svg"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/icon7.ffece1cc.svg"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/icon8.840f8a8e.svg"},function(t,e,c){"use strict";c.r(e),e.default=c.p+"static/media/icon9.f46af93f.svg"},function(t,e,c){},function(t,e,c){},function(t,e,c){},function(t,e,c){},function(t,e,c){},function(t,e,c){},function(t,e,c){"use strict";c.r(e);var n=c(1),i=c.n(n),s=c(33),a=c.n(s),r=c(2),u=c(34),o="production",d={production:"https://tiny-conversation.herokuapp.com",development:"http://localhost:8080"},f=function(){return d[o]?d[o]:d.development},l=(c(70),c(71),c(0)),v=function(t){var e=t.children;return Object(l.jsxs)("header",{className:"header",children:[Object(l.jsxs)("div",{className:"header__left",children:[Object(l.jsx)("i",{className:"far fa-comment-dots header__icon"}),Object(l.jsx)("h1",{className:"header__title",children:"conversations"})]}),e]})},g=function(t){var e=t.userName,c=t.setUserName,i=t.children,s=Object(n.useState)(!1),a=Object(r.a)(s,2),u=a[0],o=a[1],d=Object(n.useState)(""),f=Object(r.a)(d,2),v=f[0],g=f[1];Object(n.useEffect)((function(){var t=document.querySelector(".header__username-input");t&&t.focus()}));return Object(l.jsxs)("div",{className:"header__user",children:[u?Object(l.jsx)("form",{onSubmit:function(t){t.preventDefault(),c(v),g(""),o(!1)},children:Object(l.jsx)("input",{type:"text",value:v,onChange:function(t){return g(t.target.value)},onBlur:function(){return o(!1)},className:"header__username-input",autoComplete:"off",required:!0})}):Object(l.jsx)("button",{className:"header__name-btn",onClick:function(){g(e),o(!0)},children:e}),i]})},m=c(17),b=c(73),j={};b.keys().forEach((function(t){var e;j[(e=t,e.replace("./","").replace(".svg","").replace("icon",""))]=b(t)}));c(123);var h=function(t){var e,c=t.icon,n=void 0===c?3:c,i=t.background,s=void 0===i?"#89f0a4":i,a=t.status,r=void 0!==a&&a,u=t.size,o=void 0===u?"3rem":u,d=t.margin,f=void 0===d?"0.5rem":d;return Object(l.jsxs)("div",{className:"usericon",style:{width:o,minWidth:o,height:o,minHeight:o,backgroundColor:s,margin:f},children:[Object(l.jsx)("img",{src:(e=n,j[e]?j[e].default:m.default),alt:"temp",className:"usericon__svg"}),r&&Object(l.jsx)("div",{className:"usericon__status"})]})},p=(c(124),function(t){var e=t.channelList,c=t.emitActiveConversation,n=t.activeConversation,i=t.children;return Object(l.jsxs)("nav",{className:"conversations",children:[e.map((function(t){return Object(l.jsxs)("button",{className:(e=t.id,"conversations__channelBtn conversations__channelBtn--".concat(e===n?"active":"inactive")),onClick:function(){return c(t.id)},children:[Object(l.jsx)("span",{children:"#"}),t.label]},t.id);var e})),i]})}),O=function(t){var e=t.createChannel,c=Object(n.useState)(!1),i=Object(r.a)(c,2),s=i[0],a=i[1],u=Object(n.useState)(""),o=Object(r.a)(u,2),d=o[0],f=o[1];Object(n.useEffect)((function(){var t=document.querySelector(".conversations__add-channel-input");t&&t.focus()}));return Object(l.jsx)("div",{className:"conversations__add-channel",children:s?Object(l.jsx)("form",{onSubmit:function(t){t.preventDefault(),e(d),f(""),a(!1)},className:"conversations__add-channel-form",children:Object(l.jsx)("input",{type:"text",onBlur:function(){a(!1),f("")},className:"conversations__add-channel-input",value:d,onChange:function(t){return f(t.target.value)},required:!0})}):Object(l.jsx)("button",{className:"conversations__add-channel-btn",onClick:function(){return a(!0)},children:"+ Add Channel"})})},_=(c(125),function(t){var e=t.send,c=t.children,i=t.messages,s=t.alertTyping,a=t.usersTyping,u=t.currentChannel,o=Object(n.useState)(""),d=Object(r.a)(o,2),f=d[0],v=d[1];Object(n.useEffect)((function(){var t=document.querySelector(".chat__messages");t.scrollTop=t.scrollHeight}),[i]);return Object(l.jsxs)("main",{className:"chat",children:[Object(l.jsxs)("h2",{className:"chat__channeltag",children:[Object(l.jsx)("span",{children:"#"}),u]}),Object(l.jsx)("div",{className:"chat__messages",children:c}),Object(l.jsxs)("div",{className:"chat__form-container",children:[""!==a&&Object(l.jsxs)("p",{className:"chat__typingalert",children:[a,Object(l.jsx)("span",{className:"chat__dot1",children:"."}),Object(l.jsx)("span",{className:"chat__dot2",children:"."}),Object(l.jsx)("span",{className:"chat__dot3",children:"."})]}),Object(l.jsxs)("form",{className:"chat__form",onSubmit:function(t){t.preventDefault(),e(f),v("")},children:[Object(l.jsx)("input",{type:"text",className:"chat__input",value:f,onChange:function(t){s(),v(t.target.value)},required:!0}),Object(l.jsx)("button",{className:"chat__button",children:"Send"})]})]})]})}),x=function(t){var e=t.user,c=t.messageObj,n=t.children;return Object(l.jsxs)("div",{className:"chat__content",children:[Object(l.jsx)("div",{className:"chat__left",children:n}),Object(l.jsxs)("div",{className:"chat__right",children:[Object(l.jsx)("div",{className:"chat__pointer"}),Object(l.jsxs)("div",{className:"chat__content-header",children:[Object(l.jsx)("p",{className:"chat__nametag",children:e}),Object(l.jsx)("p",{className:"chat__timetag",children:function(t){var e=new Date(t);return(e.getHours()<10?"0".concat(e.getHours()):e.getHours())+":"+(e.getMinutes()<10?"0".concat(e.getMinutes()):e.getMinutes())}(c.time)})]}),Object(l.jsx)("p",{className:"chat__texttag",children:c.text})]})]})},N=(c(126),function(t){var e=t.userlist,c=void 0===e?[]:e;return Object(l.jsx)("aside",{className:"users",children:c.map((function(t){return Object(l.jsxs)("div",{className:"users__row",children:[Object(l.jsx)(h,{icon:t.icon,background:t.color,status:!0,size:"2rem"}),Object(l.jsx)("p",{className:"users__nametag",children:t.name})]},t.pubId)}))})}),y=function(){var t=Object(n.useState)([]),e=Object(r.a)(t,2),c=e[0],i=e[1],s=Object(n.useState)([]),a=Object(r.a)(s,2),o=a[0],d=a[1],m=Object(n.useState)(0),b=Object(r.a)(m,2),j=b[0],y=b[1],C=Object(n.useState)([]),S=Object(r.a)(C,2),k=S[0],E=S[1],T=Object(n.useState)(),w=Object(r.a)(T,2),D=w[0],q=w[1],B=Object(n.useState)([]),I=Object(r.a)(B,2),M=I[0],F=I[1],H=Object(n.useRef)();Object(n.useEffect)((function(){H.current=Object(u.io)(f());var t=H.current;return t.on("user-list",(function(t){return i(t)})),t.on("channel-list",(function(t){return d(t)})),t.on("channel-message",(function(t){return E(t)})),t.on("user-id",(function(t){return q(t)})),t.on("users-typing",(function(t){return F(t)})),function(){t.close()}}),[]);var L=function(t){var e=c.find((function(e){return e.pubId===t}));return e?e.name:"Missing"},U=function(t){var e=c.find((function(e){return e.pubId===t}));return e?e.color:"#89f0a4"},z=function(t){var e=c.find((function(e){return e.pubId===t}));return e&&e.icon?e.icon:"0"};return Object(l.jsxs)("div",{className:"app",children:[Object(l.jsx)(v,{children:Object(l.jsx)(g,{userName:L(D),setUserName:function(t){H.current.emit("update-name",t)},children:Object(l.jsx)(h,{icon:z(D),background:U(D),status:!0})})}),Object(l.jsx)(p,{channelList:o,emitActiveConversation:function(t){y(t),H.current.emit("set-active",t)},activeConversation:j,children:Object(l.jsx)(O,{createChannel:function(t){H.current.emit("create-channel",t)}})}),Object(l.jsx)(_,{send:function(t){void 0!==D&&H.current.emit("message",{text:t,id:j,by:D})},messages:k,alertTyping:function(){H.current.emit("is-typing")},usersTyping:function(){var t=M.filter((function(t){return t!==D}));if(1===t.length)return"".concat(L(t[0])," is typing");if(t.length<3){var e="";return t.forEach((function(c,n){n!==t.length-1?e+="".concat(L(c),", "):e+="and ".concat(L(c)," are typing")})),e}return"Several people are typing"}(),currentChannel:function(){var t=o.find((function(t){return t.id===j}));return t?t.label:"loading..."}(),children:k.map((function(t){return Object(l.jsx)(x,{user:L(t.by),messageObj:t,children:Object(l.jsx)(h,{icon:z(t.by),size:"2.3rem",margin:"0",background:U(t.by)})},t.id)}))}),Object(l.jsx)(N,{userlist:c.filter((function(t){return t.online}))})]})},C=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,130)).then((function(e){var c=e.getCLS,n=e.getFID,i=e.getFCP,s=e.getLCP,a=e.getTTFB;c(t),n(t),i(t),s(t),a(t)}))};c(127),c(128);a.a.render(Object(l.jsx)(i.a.StrictMode,{children:Object(l.jsx)(y,{})}),document.getElementById("root")),C()}],[[129,1,2]]]);
//# sourceMappingURL=main.7f0789c3.chunk.js.map