(this["webpackJsonpconversation-client"]=this["webpackJsonpconversation-client"]||[]).push([[0],Array(20).concat([function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/icon1.be78a816.svg"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){},function(t,e,n){},,function(t,e,n){var c={"./icon1.svg":20,"./icon10.svg":78,"./icon11.svg":79,"./icon12.svg":80,"./icon13.svg":81,"./icon14.svg":82,"./icon15.svg":83,"./icon16.svg":84,"./icon17.svg":85,"./icon18.svg":86,"./icon19.svg":87,"./icon2.svg":88,"./icon20.svg":89,"./icon21.svg":90,"./icon22.svg":91,"./icon23.svg":92,"./icon24.svg":93,"./icon25.svg":94,"./icon26.svg":95,"./icon27.svg":96,"./icon28.svg":97,"./icon29.svg":98,"./icon3.svg":99,"./icon30.svg":100,"./icon31.svg":101,"./icon32.svg":102,"./icon33.svg":103,"./icon34.svg":104,"./icon35.svg":105,"./icon36.svg":106,"./icon37.svg":107,"./icon38.svg":108,"./icon39.svg":109,"./icon4.svg":110,"./icon40.svg":111,"./icon41.svg":112,"./icon42.svg":113,"./icon43.svg":114,"./icon44.svg":115,"./icon45.svg":116,"./icon46.svg":117,"./icon47.svg":118,"./icon48.svg":119,"./icon49.svg":120,"./icon5.svg":121,"./icon50.svg":122,"./icon6.svg":123,"./icon7.svg":124,"./icon8.svg":125,"./icon9.svg":126};function i(t){var e=s(t);return n(e)}function s(t){if(!n.o(c,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return c[t]}i.keys=function(){return Object.keys(c)},i.resolve=s,t.exports=i,i.id=77},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/icon10.7b6cb582.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/icon11.c4e447fa.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/icon12.34ac38ad.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/icon13.b807f680.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/icon14.9b9fdef1.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/icon15.8a899c72.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/icon16.cfd56a7b.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/icon17.96da9cd4.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/icon18.00308d4c.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/icon19.e39fc14b.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/icon2.23fce968.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/icon20.5edc3050.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/icon21.2e62f7bd.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/icon22.c2953a5e.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/icon23.bf39ce58.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/icon24.47e5020a.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/icon25.38aeadd6.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/icon26.1ee31e9c.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/icon27.d7c6887f.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/icon28.b5b90c1d.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/icon29.f930cc1f.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/icon3.7dcb6761.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/icon30.a06620a2.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/icon31.1ba79db4.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/icon32.7d284c1b.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/icon33.9742d126.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/icon34.7d8098fb.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/icon35.1c8cde62.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/icon36.bf625fe0.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/icon37.d9166e4d.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/icon38.cd397d5e.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/icon39.b572e9c6.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/icon4.905fe3e8.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/icon40.d78bfd96.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/icon41.784bf6f8.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/icon42.420ccc43.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/icon43.87b3c1df.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/icon44.0efbf879.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/icon45.e88afedb.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/icon46.36b47cd7.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/icon47.62a72054.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/icon48.57a483fd.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/icon49.6d1bc615.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/icon5.2fa1db86.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/icon50.c017f087.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/icon6.86e58767.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/icon7.ffece1cc.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/icon8.840f8a8e.svg"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/icon9.f46af93f.svg"},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var c=n(1),i=n.n(c),s=n(37),a=n.n(s),r=n(21),o=n(12),u=n(2),d=n(38),f="production",l={production:"https://tiny-conversation.herokuapp.com",development:"http://localhost:8080"},v=function(){return l[f]?l[f]:l.development},m=(n(74),n(75),n(0)),j=function(t){var e=t.children;return Object(m.jsxs)("header",{className:"header",children:[Object(m.jsxs)("div",{className:"header__left",children:[Object(m.jsx)("i",{className:"far fa-comment-dots header__icon"}),Object(m.jsx)("h1",{className:"header__title",children:"conversations"})]}),e]})},g=function(t){var e=t.userName,n=t.setUserName,i=t.children,s=Object(c.useState)(!1),a=Object(u.a)(s,2),r=a[0],o=a[1],d=Object(c.useState)(""),f=Object(u.a)(d,2),l=f[0],v=f[1];Object(c.useEffect)((function(){var t=document.querySelector(".header__username-input");t&&t.focus()}));return Object(m.jsxs)("div",{className:"header__user",children:[r?Object(m.jsx)("form",{onSubmit:function(t){t.preventDefault(),n(l),v(""),o(!1)},children:Object(m.jsx)("input",{type:"text",value:l,onChange:function(t){return v(t.target.value)},onBlur:function(){return o(!1)},className:"header__username-input",autoComplete:"off",required:!0})}):Object(m.jsx)("button",{className:"header__name-btn",onClick:function(){v(e),o(!0)},children:e}),i]})},b=n(20),h=n(77),p={};h.keys().forEach((function(t){var e;p[(e=t,e.replace("./","").replace(".svg","").replace("icon",""))]=h(t)}));n(127);var O=function(t){var e,n=t.icon,c=void 0===n?3:n,i=t.background,s=void 0===i?"#89f0a4":i,a=t.status,r=void 0!==a&&a,o=t.size,u=void 0===o?"3rem":o,d=t.margin,f=void 0===d?"0.5rem":d;return Object(m.jsxs)("div",{className:"usericon",style:{width:u,minWidth:u,height:u,minHeight:u,backgroundColor:s,margin:f},children:[Object(m.jsx)("img",{src:(e=c,p[e]?p[e].default:b.default),alt:"temp",className:"usericon__svg"}),r&&Object(m.jsx)("div",{className:"usericon__status"})]})},_=(n(128),function(t){var e=t.channelList,n=t.newMessages,c=t.emitActiveConversation,i=t.activeConversation,s=t.children,a=function(t){var e=n.find((function(e){return e.id===t}));return e&&e.new>0?e.new:""},r=function(t){return t!==i};return Object(m.jsxs)("nav",{className:"conversations",children:[e.map((function(t){return Object(m.jsxs)("button",{className:(e=t.id,"conversations__channelBtn conversations__channelBtn--".concat(e===i?"active":"inactive")),onClick:function(){return c(t.id)},children:[Object(m.jsx)("span",{children:"#"}),t.label,r(t.id)&&""!==a(t.id)&&Object(m.jsx)("span",{className:"conversations__new",children:a(t.id)})]},t.id);var e})),s]})}),x=function(t){var e=t.createChannel,n=Object(c.useState)(!1),i=Object(u.a)(n,2),s=i[0],a=i[1],r=Object(c.useState)(""),o=Object(u.a)(r,2),d=o[0],f=o[1];Object(c.useEffect)((function(){var t=document.querySelector(".conversations__add-channel-input");t&&t.focus()}));return Object(m.jsx)("div",{className:"conversations__add-channel",children:s?Object(m.jsx)("form",{onSubmit:function(t){t.preventDefault(),e(d),f(""),a(!1)},className:"conversations__add-channel-form",children:Object(m.jsx)("input",{type:"text",onBlur:function(){a(!1),f("")},className:"conversations__add-channel-input",value:d,onChange:function(t){return f(t.target.value)},required:!0})}):Object(m.jsx)("button",{className:"conversations__add-channel-btn",onClick:function(){return a(!0)},children:"+ Add Channel"})})},N=(n(129),function(t){var e=t.send,n=t.children,i=t.messages,s=t.alertTyping,a=t.usersTyping,r=t.currentChannel,o=Object(c.useState)(""),d=Object(u.a)(o,2),f=d[0],l=d[1];Object(c.useEffect)((function(){var t=document.querySelector(".chat__messages");t.scrollTop=t.scrollHeight}),[i]);return Object(m.jsxs)("main",{className:"chat",children:[Object(m.jsxs)("h2",{className:"chat__channeltag",children:[Object(m.jsx)("span",{children:"#"}),r]}),Object(m.jsx)("div",{className:"chat__messages",children:n}),Object(m.jsxs)("div",{className:"chat__form-container",children:[""!==a&&Object(m.jsxs)("p",{className:"chat__typingalert",children:[a,Object(m.jsx)("span",{className:"chat__dot1",children:"."}),Object(m.jsx)("span",{className:"chat__dot2",children:"."}),Object(m.jsx)("span",{className:"chat__dot3",children:"."})]}),Object(m.jsxs)("form",{className:"chat__form",onSubmit:function(t){t.preventDefault(),e(f),l("")},children:[Object(m.jsx)("input",{type:"text",className:"chat__input",value:f,onChange:function(t){s(),l(t.target.value)},required:!0}),Object(m.jsx)("button",{className:"chat__button",children:"Send"})]})]})]})}),y=function(t){var e=t.user,n=t.messageObj,c=t.children;return Object(m.jsxs)("div",{className:"chat__content",children:[Object(m.jsx)("div",{className:"chat__left",children:c}),Object(m.jsxs)("div",{className:"chat__right",children:[Object(m.jsx)("div",{className:"chat__pointer"}),Object(m.jsxs)("div",{className:"chat__content-header",children:[Object(m.jsx)("p",{className:"chat__nametag",children:e}),Object(m.jsx)("p",{className:"chat__timetag",children:function(t){var e=new Date(t);return(e.getHours()<10?"0".concat(e.getHours()):e.getHours())+":"+(e.getMinutes()<10?"0".concat(e.getMinutes()):e.getMinutes())}(n.time)})]}),Object(m.jsx)("p",{className:"chat__texttag",children:n.text})]})]})},w=(n(130),function(t){var e=t.userlist,n=void 0===e?[]:e;return Object(m.jsx)("aside",{className:"users",children:n.map((function(t){return Object(m.jsxs)("div",{className:"users__row",children:[Object(m.jsx)(O,{icon:t.icon,background:t.color,status:!0,size:"2rem"}),Object(m.jsx)("p",{className:"users__nametag",children:t.name})]},t.pubId)}))})}),S=(n(131),function(){return Object(m.jsxs)("footer",{className:"footer",children:[Object(m.jsx)("p",{className:"footer__text",children:"by Oscar Lindqvist"}),Object(m.jsx)("i",{className:"fas fa-circle footer__icon"}),Object(m.jsxs)("p",{className:"footer__text",children:["Icons made by"," ",Object(m.jsx)("a",{className:"footer__link",href:"https://www.freepik.com",title:"Freepik",children:"Freepik"})," ","from"," ",Object(m.jsx)("a",{className:"footer__link",href:"https://www.flaticon.com/",title:"Flaticon",children:"www.flaticon.com"})]})]})}),C=function(){var t=Object(c.useState)([]),e=Object(u.a)(t,2),n=e[0],i=e[1],s=Object(c.useState)([]),a=Object(u.a)(s,2),f=a[0],l=a[1],b=Object(c.useState)(0),h=Object(u.a)(b,2),p=h[0],C=h[1],k=Object(c.useState)([]),E=Object(u.a)(k,2),F=E[0],M=E[1],T=Object(c.useState)(),q=Object(u.a)(T,2),D=q[0],I=q[1],B=Object(c.useState)([]),L=Object(u.a)(B,2),H=L[0],A=L[1],U=Object(c.useState)([]),z=Object(u.a)(U,2),J=z[0],P=z[1],R=Object(c.useRef)(),W=function(t){P((function(e){return e.find((function(e){return e.id===t}))?e.map((function(e){return e.id===t?Object(o.a)(Object(o.a)({},e),{},{new:e.new+1}):e})):[].concat(Object(r.a)(e),[{id:t,new:1}])}))};Object(c.useEffect)((function(){R.current=Object(d.io)(v());var t=R.current;return t.on("user-list",(function(t){return i(t)})),t.on("channel-list",(function(t){return l(t)})),t.on("channel-message",(function(t){return M(t)})),t.on("user-id",(function(t){return I(t)})),t.on("users-typing",(function(t){return A(t)})),t.on("new-channel-message",W),function(){t.close()}}),[]);var G=function(t){P((function(e){return e.find((function(e){return e.id===t}))?e.map((function(e){return e.id===t?Object(o.a)(Object(o.a)({},e),{},{new:0}):e})):[].concat(Object(r.a)(e),[{id:t,new:0}])}))},K=function(t){var e=n.find((function(e){return e.pubId===t}));return e?e.name:"Missing"},Q=function(t){var e=n.find((function(e){return e.pubId===t}));return e?e.color:"#89f0a4"},V=function(t){var e=n.find((function(e){return e.pubId===t}));return e&&e.icon?e.icon:"0"};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"filler-div"}),Object(m.jsxs)("div",{className:"app",children:[Object(m.jsx)(j,{children:Object(m.jsx)(g,{userName:K(D),setUserName:function(t){R.current.emit("update-name",t)},children:Object(m.jsx)(O,{icon:V(D),background:Q(D),status:!0})})}),Object(m.jsx)(_,{channelList:f,newMessages:J,emitActiveConversation:function(t){G(p),C(t),G(t),R.current.emit("set-active",t)},activeConversation:p,children:Object(m.jsx)(x,{createChannel:function(t){R.current.emit("create-channel",t)}})}),Object(m.jsx)(N,{send:function(t){void 0!==D&&R.current.emit("message",{text:t,id:p,by:D})},messages:F,alertTyping:function(){R.current.emit("is-typing")},usersTyping:function(){var t=H.filter((function(t){return t!==D}));if(1===t.length)return"".concat(K(t[0])," is typing");if(t.length<3){var e="";return t.forEach((function(n,c){c!==t.length-1?e+="".concat(K(n),", "):e+="and ".concat(K(n)," are typing")})),e}return"Several people are typing"}(),currentChannel:function(){var t=f.find((function(t){return t.id===p}));return t?t.label:"loading..."}(),children:F.map((function(t){return Object(m.jsx)(y,{user:K(t.by),messageObj:t,children:Object(m.jsx)(O,{icon:V(t.by),size:"2.3rem",margin:"0",background:Q(t.by)})},t.id)}))}),Object(m.jsx)(w,{userlist:n.filter((function(t){return t.online}))})]}),Object(m.jsx)(S,{})]})},k=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,135)).then((function(e){var n=e.getCLS,c=e.getFID,i=e.getFCP,s=e.getLCP,a=e.getTTFB;n(t),c(t),i(t),s(t),a(t)}))};n(132),n(133);a.a.render(Object(m.jsx)(i.a.StrictMode,{children:Object(m.jsx)(C,{})}),document.getElementById("root")),k()}]),[[134,1,2]]]);
//# sourceMappingURL=main.8d987b3e.chunk.js.map